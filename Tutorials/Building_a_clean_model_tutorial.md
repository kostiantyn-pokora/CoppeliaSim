# Посібник зі створення чистої моделі #
Цей навчальний посібник допоможе вам крок за кроком створити чисту імітаційну модель робота чи будь-якого іншого предмета. Це дуже важлива тема, можливо, найважливіший аспект, щоб мати приємну на вигляд, швидку відображення, швидку симуляцію та стабільну імітаційну модель.
Щоб проілюструвати процес створення моделі, ми створимо наступний маніпулятор:

![modelTut1](modelTut1.jpg)

[Модель робота-маніпулятора]

## Побудова видимих фігур ##
Створюючи нову модель, спочатку ми обробляємо лише її візуальний аспект: динамічний аспект (його ще більш спрощена/оптимізована модель), з’єднання, датчики тощо буде розглянуто пізніше.

Тепер ми могли безпосередньо створювати примітивні форми в CoppeliaSim за допомогою [Рядок меню --> Додати --> Примітивна форма --> ...]. Роблячи це, ми маємо можливість створювати примітивні форми, або правильні форми. Примітивні фігури будуть оптимізовані для динамічної взаємодії, а також будуть безпосередньо активовані динамічно (тобто падіння, зіткнення, але це можна вимкнути на пізнішому етапі). Примітивні форми будуть простими сітками, які можуть містити недостатньо деталей або геометричної точності для нашого застосування. Іншим нашим варіантом у такому випадку буде імпорт сітки із зовнішньої програми.

Під час імпорту даних САПР із зовнішньої програми найважливішим є переконатися, що модель САПР не надто важка, тобто не містить занадто багато трикутників. Ця вимога важлива, оскільки важка модель буде повільно відображатися, а також уповільнити роботу різних модулів обчислень, які можуть бути використані на пізнішому етапі (наприклад, обчислення мінімальної відстані або динаміки). Наступний приклад зазвичай не підходить (навіть якщо, як ми побачимо пізніше, є засоби для спрощення даних у CoppeliaSim):

![modelTut2](modelTut2.jpg)

[Складні дані САПР (у твердому та каркасному)]

Наведені вище дані CAD дуже важкі: вони містять багато трикутників (понад 47 000), що було б добре, якби ми використали лише один екземпляр у порожній сцені. Але здебільшого вам захочеться змоделювати кілька екземплярів одного робота, прикріпити різні типи захватів і, можливо, запропонувати цим роботам взаємодіяти з іншими роботами, пристроями чи середовищем. У такому випадку сцена симуляції може швидко стати надто повільною. Як правило, ми рекомендуємо моделювати робота з не більше ніж 20 000 трикутниками, але в більшості випадків 5 000-10 000 трикутників також підійдуть. Пам’ятайте: менше – краще майже в усіх аспектах.
Що робить цю модель такою важкою? По-перше, моделі, які містять отвори та дрібні деталі, потребуватимуть набагато більше трикутних граней для правильного зображення. Тому, якщо це можливо, спробуйте видалити всі отвори, гвинти, внутрішню частину об’єктів тощо з вихідних даних моделі. Якщо у вас є вихідні дані моделі, представлені у вигляді параметричних поверхонь/об’єктів, у більшості випадків досить просто вибрати елементи та видалити їх (наприклад, у Solidworks). Другим важливим кроком є експорт вихідних даних з обмеженою точністю: більшість програм САПР дозволяють вказати рівень деталей експортованих сіток. Також може бути важливо експортувати об’єкти в кілька кроків, коли малюнок складається з великих і малих об’єктів; це робиться для того, щоб уникнути надто точного визначення великих об’єктів (забагато трикутників) і надто грубого визначення малих об’єктів (замало трикутників): просто спочатку експортуйте великі об’єкти (налаштувавши потрібні параметри точності), а потім малі об’єкти (налаштувавши налаштування точності) ).

Тепер припустимо, що ми застосували всі можливі спрощення, як описано в попередньому розділі. Ми все ще можемо отримати занадто важку сітку після імпорту:

![modelTut3](modelTut3.jpg)

[Імпортовані дані CAD]
